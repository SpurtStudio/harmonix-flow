# План тестирования приложения "Гармония"

## 9. Критерии успеха и тестовые сценарии

### 1. Безопасность: нулевые инциденты утечки данных за первые 2 года работы

*   **Тип проверки:** Анализ кода, ручное тестирование (имитация атак), автоматизированное тестирование (сканирование уязвимостей).
*   **Шаги:**
    *   **Анализ кода:** Проверить [`src/lib/crypto.ts`](src/lib/crypto.ts) на корректность реализации шифрования (AES-256-GCM, HKDF, PBKDF2-SHA512), убедиться, что ключи не покидают устройство. Проверить [`src/lib/db.ts`](src/lib/db.ts) на использование шифрования при работе с IndexedDB.
    *   **Ручное тестирование:**
        *   Попытаться перехватить данные в IndexedDB через инструменты разработчика браузера (вкладка "Application" -> "IndexedDB"). Убедиться, что хранимые данные зашифрованы и нечитаемы.
        *   Попытаться обойти аутентификацию, вводя неверные учетные данные, проверяя блокировку после нескольких попыток.
        *   Проверить, что конфиденциальные данные (например, пароли) не передаются в открытом виде по сети (вкладка "Network" в инструментах разработчика).
    *   **Автоматизированное тестирование:**
        *   (Вне рамок текущей задачи, но отметить) Использовать инструменты для сканирования XSS/CSRF уязвимостей (например, OWASP ZAP, Burp Suite).
        *   (Вне рамок текущей задачи, но отметить) Провести пентест для выявления потенциальных уязвимостей.

### 2. Производительность: время отклика < 100ms для всех локальных операций

*   **Тип проверки:** Ручное тестирование (субъективная оценка), автоматизированное тестирование (измерение времени отклика), анализ кода.
*   **Шаги:**
    *   **Ручное тестирование:**
        *   Выполнять различные локальные операции (создание/редактирование задач, проектов, записей дневника, переключение между страницами) и субъективно оценивать скорость отклика.
        *   Обращать внимание на задержки при вводе текста, загрузке списков, открытии модальных окон.
    *   **Автоматизированное тестирование:**
        *   Использовать Performance API браузера (например, `performance.now()`) для измерения времени выполнения критически важных операций в [`src/lib/db.ts`](src/lib/db.ts) (чтение/запись в IndexedDB), [`src/lib/crypto.ts`](src/lib/crypto.ts) (шифрование/дешифрование), [`src/lib/vector-db.ts`](src/lib/vector-db.ts) (семантический поиск).
        *   Написать E2E тесты (например, с использованием Playwright или Cypress), которые симулируют действия пользователя и измеряют время отклика UI.
        *   Проверить время загрузки страниц и компонентов.
    *   **Анализ кода:**
        *   Проверить наличие оптимизаций в коде (мемоизация, ленивая загрузка компонентов, оптимизация запросов к IndexedDB).
        *   Убедиться, что тяжелые вычисления (например, шифрование больших объемов данных) выполняются асинхронно и не блокируют основной поток UI.

### 3. Юзабилити: 95% пользователей могут начать использовать систему без обучения

*   **Тип проверки:** Ручное тестирование (первое взаимодействие), сбор обратной связи от пользователя (тестирование с участием пользователей).
*   **Шаги:**
    *   **Ручное тестирование (имитация нового пользователя):**
        *   Запустить приложение впервые. Не читать документацию и подсказки.
        *   Попытаться выполнить базовые операции: создать цель, задачу, запись дневника, добавить привычку.
        *   Оценить интуитивность интерфейса, понятность иконок, навигации.
        *   Проверить, насколько легко найти основные функции.
    *   **Сбор обратной связи от пользователя:**
        *   Провести юзабилити-тестирование с группой новых пользователей, которые ранее не знакомы с приложением.
        *   Попросить их выполнить ряд типовых задач (например, "создайте новую глобальную цель", "добавьте задачу на завтра", "запишите что-нибудь в дневник").
        *   Наблюдать за их действиями, фиксировать затруднения, вопросы, места, где они "застревают".
        *   После выполнения задач провести опрос: "Насколько интуитивным был интерфейс?", "Смогли ли вы выполнить задачи без подсказок?", "Что было самым сложным?".
        *   Использовать метрики, такие как "время выполнения задачи" и "количество ошибок".

### 4. Баланс жизни: 80% пользователей отмечают улучшение баланса за 3 месяца

*   **Тип проверки:** Сбор обратной связи от пользователя (регулярные опросы), анализ данных приложения (если реализовано отслеживание баланса).
*   **Шаги:**
    *   **Сбор обратной связи от пользователя:**
        *   Внедрить в приложение регулярные опросы (например, ежемесячные или ежеквартальные), где пользователи оценивают свой баланс жизни по 8 сферам (как описано в разделе "Центр Жизни").
        *   Сформулировать вопросы, позволяющие оценить субъективное ощущение баланса: "Насколько вы удовлетворены балансом между работой и личной жизнью?", "Чувствуете ли вы, что уделяете достаточно внимания всем важным сферам жизни?".
        *   Отслеживать динамику этих оценок у пользователей, которые активно используют приложение в течение 3 месяцев.
    *   **Анализ данных приложения (если реализовано):**
        *   Если приложение собирает данные о времени, затраченном на задачи, привязанные к разным сферам жизни, или о выполнении привычек, связанных с балансом, анализировать эти данные.
        *   Сравнивать распределение активности по сферам жизни до и после 3 месяцев использования.
        *   (Вне рамок текущей задачи, но отметить) Разработать внутреннюю метрику "индекса баланса", основанную на активности пользователя в разных сферах.

### 5. Удержание: 70% пользователей продолжают использовать систему спустя 6 месяцев

*   **Тип проверки:** Анализ данных приложения (метрики активности), сбор обратной связи от пользователя (опросы об уходе).
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать метрики активности пользователей: частота входов, количество выполненных задач, созданных записей дневника, активных проектов.
        *   Определить "активного пользователя" (например, пользователь, который заходит в приложение хотя бы раз в неделю и выполняет хотя бы одну задачу).
        *   Рассчитать процент пользователей, которые остаются активными спустя 6 месяцев после первой регистрации.
        *   Использовать когортный анализ для отслеживания удержания.
    *   **Сбор обратной связи от пользователя:**
        *   Для пользователей, которые перестали быть активными, попытаться собрать обратную связь (например, через короткий опрос по электронной почте или push-уведомление): "Почему вы перестали использовать Гармонию?", "Что могло бы заставить вас вернуться?".

### 6. Время работы с системой: не более 5 минут в день при получении ценности

*   **Тип проверки:** Анализ данных приложения (метрики времени использования), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Внедрить в приложение отслеживание времени, проведенного пользователем в активном состоянии (например, через `visibilitychange` API или отслеживание активности UI).
        *   Рассчитывать среднее ежедневное время использования для активных пользователей.
        *   Сравнивать это время с количеством выполненных задач, созданных записей и другими метриками "получения ценности".
    *   **Сбор обратной связи от пользователя:**
        *   В регулярных опросах спрашивать пользователей: "Сколько времени в среднем вы тратите на Гармонию в день?", "Чувствуете ли вы, что получаете достаточную ценность за это время?".
        *   Проводить интервью с пользователями, чтобы понять, как они интегрируют "Гармонию" в свой ежедневный рабочий процесс.

### 7. Мотивация: 80% пользователей отмечают снижение прокрастинации за 1 месяц

*   **Тип проверки:** Сбор обратной связи от пользователя (опросы), анализ данных приложения (метрики выполнения задач).
*   **Шаги:**
    *   **Сбор обратной связи от пользователя:**
        *   Внедрить в приложение опросы (например, через 1 месяц после начала использования), где пользователи оценивают, насколько "Гармония" помогла им снизить прокрастинацию.
        *   Вопросы могут быть: "Насколько часто вы откладываете задачи, используя Гармонию?", "Помогает ли Гармония вам начать выполнять задачи?".
        *   Использовать шкалу оценки (например, от 1 до 5).
    *   **Анализ данных приложения:**
        *   Отслеживать метрики, связанные с прокрастинацией:
            *   Количество задач, которые были перенесены или просрочены.
            *   Время между созданием задачи и ее началом/выполнением.
            *   Использование функций, направленных на борьбу с прокрастинацией (например, Pomodoro-таймер, если он будет реализован).
        *   Сравнивать эти метрики до и после использования приложения.

### 8. Позитивный эффект: 90% пользователей не испытывают негативных эмоций от интерфейса

*   **Тип проверки:** Сбор обратной связи от пользователя (опросы, интервью), ручное тестирование (наблюдение за реакцией).
*   **Шаги:**
    *   **Сбор обратной связи от пользователя:**
        *   Внедрить в приложение короткие опросы или "эмоциональные чекины", где пользователи могут оценить свое эмоциональное состояние при взаимодействии с интерфейсом.
        *   Вопросы: "Какие эмоции вы испытываете, используя Гармонию?", "Есть ли что-то в интерфейсе, что вызывает у вас раздражение или стресс?".
        *   Проводить интервью с пользователями, чтобы выявить любые негативные реакции на дизайн, анимации, уведомления.
    *   **Ручное тестирование:**
        *   Наблюдать за реакцией пользователей во время юзабилити-тестирования. Фиксировать признаки фрустрации, замешательства, раздражения (например, частые клики, вздохи, комментарии).
        *   Проверить, что уведомления не являются навязчивыми, а цветовая схема и шрифты не вызывают дискомфорта.
        *   Проверить работу "автоматического затемнения при обнаружении признаков низкого настроения" (если реализовано).

### 9. Эффективность изменений: 85% пользователей отмечают, что система помогает успешно адаптироваться к изменениям

*   **Тип проверки:** Сбор обратной связи от пользователя (опросы), ручное тестирование (сценарии изменения планов).
*   **Шаги:**
    *   **Сбор обратной связи от пользователя:**
        *   Внедрить опросы, где пользователи оценивают, насколько "Гармония" помогает им адаптироваться к неожиданным изменениям в планах (например, отмена встречи, появление срочной задачи).
        *   Вопросы: "Насколько легко вам перестраивать свои планы в Гармонии при возникновении непредвиденных обстоятельств?", "Помогает ли система оперативных изменений Гармонии вам справляться с изменениями?".
    *   **Ручное тестирование:**
        *   Разработать сценарии, имитирующие изменения в планах:
            *   Отмена/перенос задачи, которая имеет зависимости.
            *   Появление новой срочной задачи, требующей перераспределения ресурсов.
            *   Изменение сроков проекта.
        *   Проверить, как система реагирует на эти изменения:
            *   Предлагает ли она адекватные корректировки?
            *   Насколько понятна визуализация "цепной реакции"?
            *   Легко ли применить или отменить предложенные изменения?
            *   Работает ли режим "Что-если"?

### 10. Качество корректировок: 75% пользователей принимают ИИ-предложения по корректировке планов

*   **Тип проверки:** Анализ данных приложения (метрики принятия предложений ИИ), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать количество предложений по корректировке планов, сделанных ИИ-ассистентом.
        *   Отслеживать количество принятых пользователем предложений.
        *   Рассчитать процент принятия предложений.
        *   (Вне рамок текущей задачи, но отметить) Анализировать причины отклонения предложений (если такая функциональность будет реализована).
    *   **Сбор обратной связи от пользователя:**
        *   В опросах спрашивать пользователей: "Насколько полезными и релевантными были предложения ИИ по корректировке ваших планов?", "Почему вы принимали/отклоняли предложения ИИ?".
        *   Проводить интервью для более глубокого понимания причин принятия/отклонения.

### 11. Освоение функционала: 80% пользователей осваивают основные функции через интерактивную документацию

*   **Тип проверки:** Анализ данных приложения (метрики использования документации, прохождения туториалов), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать использование интерактивной документации: количество просмотров разделов, время, проведенное в туториалах, количество пройденных упражнений.
        *   Определить "основные функции" (например, создание целей, задач, проектов, использование дневника).
        *   Сравнивать активность в использовании основных функций у пользователей, которые активно взаимодействовали с документацией, и тех, кто нет.
        *   Отслеживать прогресс пользователей в прохождении интерактивных туториалов.
    *   **Сбор обратной связи от пользователя:**
        *   В опросах спрашивать пользователей: "Насколько интерактивная документация помогла вам освоить основные функции Гармонии?", "Какие разделы документации были наиболее полезными?".
        *   Проводить юзабилити-тестирование документации: попросить пользователей найти информацию по конкретной функции, выполнить упражнение.

### 12. Полезность документации: 90% пользователей считают документацию полезной и понятной

*   **Тип проверки:** Сбор обратной связи от пользователя (опросы, система оценки полезности), анализ данных приложения (метрики использования).
*   **Шаги:**
    *   **Сбор обратной связи от пользователя:**
        *   Внедрить в каждый раздел документации систему оценки полезности (например, "Была ли эта информация полезной? Да/Нет" или шкала от 1 до 5).
        *   Собирать комментарии пользователей к разделам документации.
        *   В опросах спрашивать: "Насколько документация Гармонии понятна и полезна для вас?".
    *   **Анализ данных приложения:**
        *   Отслеживать количество просмотров каждого раздела документации.
        *   Анализировать поисковые запросы в документации, чтобы выявить пробелы или неясности.
        *   (Вне рамок текущей задачи, но отметить) Отслеживать, какие разделы документации пользователи посещают после возникновения ошибок или затруднений.

### 13. База знаний: 70% пользователей активно используют Базу знаний через 2 месяца использования

*   **Тип проверки:** Анализ данных приложения (метрики использования Базы знаний), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать метрики использования Базы знаний: количество созданных записей, количество поисковых запросов, количество просмотренных связей между записями, использование семантического поиска.
        *   Определить "активного пользователя Базы знаний" (например, пользователь, который создает/редактирует записи или использует поиск хотя бы раз в неделю).
        *   Рассчитать процент активных пользователей Базы знаний спустя 2 месяца.
    *   **Сбор обратной связи от пользователя:**
        *   В опросах спрашивать: "Насколько часто вы используете Базу знаний?", "Помогает ли База знаний вам систематизировать информацию и находить нужные данные?".
        *   Проводить интервью, чтобы понять, как пользователи интегрируют Базу знаний в свой рабочий процесс.

### 14. Семейный раздел: 60% пользователей создают генеалогическое древо в течение 3 месяцев

*   **Тип проверки:** Анализ данных приложения (метрики использования семейного раздела), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать метрики использования семейного раздела: количество созданных членов семьи, количество добавленных событий, использование семейного календаря.
        *   Определить "создание генеалогического древа" (например, добавление более 3 членов семьи с указанием связей).
        *   Рассчитать процент пользователей, которые создали генеалогическое древо в течение 3 месяцев после начала использования.
    *   **Сбор обратной связи от пользователя:**
        *   В опросах спрашивать: "Используете ли вы семейный раздел Гармонии?", "Насколько полезным для вас является генеалогическое древо?".
        *   Проводить интервью, чтобы понять, какие функции семейного раздела наиболее востребованы.

### 15. Сферы жизни: 85% пользователей регулярно просматривают и обновляют информацию по конкретным сферам

*   **Тип проверки:** Анализ данных приложения (метрики использования страниц сфер жизни), сбор обратной связи от пользователя.
*   **Шаги:**
    *   **Анализ данных приложения:**
        *   Отслеживать посещения страниц каждой из 8 сфер жизни (Работа, Здоровье, Семья/Друзья, Развитие, Хобби, Отдых, Финансы, Духовность).
        *   Отслеживать количество обновлений информации (например, изменение целей, добавление задач, связанных со сферой).
        *   Определить "регулярный просмотр и обновление" (например, посещение страницы сферы и/или обновление информации хотя бы раз в месяц).
        *   Рассчитать процент пользователей, которые регулярно взаимодействуют со страницами сфер жизни.
    *   **Сбор обратной связи от пользователя:**
        *   В опросах спрашивать: "Насколько часто вы просматриваете информацию по своим сферам жизни?", "Помогает ли Гармония вам отслеживать прогресс в каждой сфере?".
        *   Проводить интервью, чтобы понять, как пользователи используют этот функционал для анализа и улучшения баланса.